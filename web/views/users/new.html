<!-- 用户新增页面 -->
<div class="max-w-4xl mx-auto">
    <!-- 页面标题 - 使用 hx-swap-oob 更新顶部标题 -->
    <div id="page-title" hx-swap-oob="true">新增用户</div>

    <!-- 新增用户表单卡片 -->
    <div class="card bg-base-100 shadow-lg border border-base-300">
        <div class="card-body p-8">
            <!-- 用户表单 -->
            <form hx-post="/users" hx-target="main" hx-swap="innerHTML" hx-indicator="#submit-btn-spinner"
                class="space-y-8">

                <!-- 基本信息 -->
                <div class="space-y-6">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="w-10 h-10 rounded-full bg-primary/20 text-primary flex items-center justify-center">
                            <i class="fas fa-user"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-base-content">基本信息</h3>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- 用户名 -->
                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-medium">用户名</span>
                                <span class="label-text-alt text-error">*</span>
                            </label>
                            <div class="relative">
                                <input class="input input-bordered input-lg w-full pl-12" type="text" name="username"
                                    placeholder="请输入用户名" required value="{{.Username}}">
                                <i
                                    class="fas fa-user absolute left-4 top-1/2 -translate-y-1/2 text-base-content/40"></i>
                            </div>
                            <div class="label-text-alt mt-2">用户登录时使用的唯一标识</div>
                        </div>

                        <!-- 真实姓名 -->
                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-medium">真实姓名</span>
                                <span class="label-text-alt text-error">*</span>
                            </label>
                            <div class="relative">
                                <input class="input input-bordered input-lg w-full pl-12" type="text" name="real_name"
                                    placeholder="请输入真实姓名" required value="{{.RealName}}">
                                <i
                                    class="fas fa-id-card absolute left-4 top-1/2 -translate-y-1/2 text-base-content/40"></i>
                            </div>
                            <div class="label-text-alt mt-2">用户的真实姓名，用于显示</div>
                        </div>

                        <!-- 邮箱 -->
                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-medium">邮箱地址</span>
                                <span class="label-text-alt text-error">*</span>
                            </label>
                            <div class="relative">
                                <input class="input input-bordered input-lg w-full pl-12" type="email" name="email"
                                    placeholder="请输入邮箱地址" required value="{{.Email}}">
                                <i
                                    class="fas fa-envelope absolute left-4 top-1/2 -translate-y-1/2 text-base-content/40"></i>
                            </div>
                            <div class="label-text-alt mt-2">用于接收系统通知和找回密码</div>
                        </div>

                        <!-- 电话 -->
                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-medium">手机号码</span>
                            </label>
                            <div class="relative">
                                <input class="input input-bordered input-lg w-full pl-12" type="tel" name="phone"
                                    placeholder="请输入手机号码" pattern="^1[3-9]\d{9}$" value="{{.Phone}}">
                                <i
                                    class="fas fa-mobile-alt absolute left-4 top-1/2 -translate-y-1/2 text-base-content/40"></i>
                            </div>
                            <div class="label-text-alt mt-2">11位手机号码，可选填</div>
                        </div>
                    </div>
                </div>

                <!-- 权限设置 -->
                <div class="space-y-6">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="w-10 h-10 rounded-full bg-accent/20 text-accent flex items-center justify-center">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-base-content">权限设置</h3>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <!-- 角色 -->
                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-medium">用户角色</span>
                                <span class="label-text-alt text-error">*</span>
                            </label>
                            <select class="select select-bordered select-lg w-full" name="role" required>
                                <option value="">请选择用户角色</option>
                                <option value="admin" {{if eq .Role "admin" }}selected{{end}}>👑 管理员 - 拥有所有权限</option>
                                <option value="editor" {{if eq .Role "editor" }}selected{{end}}>✏️ 编辑 - 可编辑内容</option>
                                <option value="viewer" {{if eq .Role "viewer" }}selected{{end}}>👁️ 访客 - 只读权限</option>
                            </select>
                            <div class="label-text-alt mt-2">决定用户在系统中的权限范围</div>
                        </div>

                        <!-- 状态 -->
                        <div class="form-control">
                            <label class="label">
                                <span class="label-text font-medium">账户状态</span>
                                <span class="label-text-alt text-error">*</span>
                            </label>
                            <select class="select select-bordered select-lg w-full" name="status" required>
                                <option value="">请选择账户状态</option>
                                <option value="active" {{if eq .Status "active" }}selected{{end}}>🟢 活跃 - 可正常使用</option>
                                <option value="inactive" {{if eq .Status "inactive" }}selected{{end}}>🔴 非活跃 - 暂时禁用
                                </option>
                            </select>
                            <div class="label-text-alt mt-2">控制用户是否可以登录系统</div>
                        </div>
                    </div>
                </div>

                <!-- 表单按钮 -->
                <div class="flex justify-between items-center pt-8 border-t border-base-300">
                    <!-- 使用 DaisyUI 5 btn-group -->
                    <div class="btn-group">
                        <a href="/users" class="btn btn-ghost btn-lg" hx-get="/users" hx-target="main" hx-swap="innerHTML"
                            hx-push-url="true">
                            <i class="fas fa-arrow-left"></i>
                            返回列表
                        </a>
                        <button type="submit" class="btn btn-primary btn-lg">
                            <span id="submit-btn-spinner"
                                class="loading loading-spinner loading-sm htmx-indicator"></span>
                            <i class="fas fa-user-plus"></i>
                            创建用户
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>