<!-- 订单详情 -->
<div style="color: #363636;">
    <!-- 订单基本信息 -->
    <div style="background: #f5f5f5; padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
            <div>
                <div style="font-size: 0.875rem; color: #7a7a7a; margin-bottom: 0.25rem;">订单号</div>
                <div style="font-weight: 600; color: #212121;">{{.Order.OrderNo}}</div>
            </div>
            <div>
                <div style="font-size: 0.875rem; color: #7a7a7a; margin-bottom: 0.25rem;">订单状态</div>
                <div>
                    {{if eq .Order.Status "pending"}}
                    <span class="badge is-warning">待处理</span>
                    {{else if eq .Order.Status "paid"}}
                    <span class="badge is-info">已支付</span>
                    {{else if eq .Order.Status "shipped"}}
                    <span class="badge is-primary">已发货</span>
                    {{else if eq .Order.Status "completed"}}
                    <span class="badge is-success">已完成</span>
                    {{else if eq .Order.Status "cancelled"}}
                    <span class="badge is-danger">已取消</span>
                    {{end}}
                </div>
            </div>
            <div>
                <div style="font-size: 0.875rem; color: #7a7a7a; margin-bottom: 0.25rem;">客户名称</div>
                <div style="font-weight: 600; color: #212121;">{{.Order.CustomerName}}</div>
            </div>
            <div>
                <div style="font-size: 0.875rem; color: #7a7a7a; margin-bottom: 0.25rem;">联系邮箱</div>
                <div style="color: #363636;">{{.Order.CustomerEmail}}</div>
            </div>
            <div>
                <div style="font-size: 0.875rem; color: #7a7a7a; margin-bottom: 0.25rem;">支付方式</div>
                <div style="color: #363636;">{{.Order.PaymentMethod}}</div>
            </div>
            <div>
                <div style="font-size: 0.875rem; color: #7a7a7a; margin-bottom: 0.25rem;">创建时间</div>
                <div style="color: #363636;">{{.Order.CreatedAt.Format "2006-01-02 15:04:05"}}</div>
            </div>
        </div>
    </div>

    <!-- 订单商品列表 -->
    <div style="margin-bottom: 1.5rem;">
        <h4 style="font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; color: #212121;">
            <i class="fas fa-box has-text-info" style="margin-right: 0.5rem;"></i>
            订单商品
        </h4>
        {{if .Order.Items}}
        <table class="table is-fullwidth is-striped">
            <thead>
                <tr>
                    <th>商品名称</th>
                    <th>SKU</th>
                    <th>单价</th>
                    <th>数量</th>
                    <th>小计</th>
                </tr>
            </thead>
            <tbody>
                {{range .Order.Items}}
                <tr>
                    <td>{{.ProductName}}</td>
                    <td><span class="tag is-light">{{.SKU}}</span></td>
                    <td>¥{{printf "%.2f" .Price}}</td>
                    <td>×{{.Quantity}}</td>
                    <td class="has-text-weight-semibold">¥{{printf "%.2f" .Subtotal}}</td>
                </tr>
                {{end}}
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="4" class="has-text-right has-text-weight-bold">订单总额：</td>
                    <td class="has-text-weight-bold has-text-primary" style="font-size: 1.25rem;">
                        ¥{{printf "%.2f" .Order.TotalAmount}}
                    </td>
                </tr>
            </tfoot>
        </table>
        {{else}}
        <div class="notification is-light">
            暂无商品信息
        </div>
        {{end}}
    </div>

    <!-- 订单时间线 -->
    <div>
        <h4 style="font-weight: 600; margin-bottom: 1rem; display: flex; align-items: center; color: #212121;">
            <i class="fas fa-history has-text-primary" style="margin-right: 0.5rem;"></i>
            订单时间线
        </h4>
        <div class="order-timeline">
            <div class="timeline-item">
                <strong style="color: #212121;">订单创建</strong>
                <br>
                <small style="color: #7a7a7a;">{{.Order.CreatedAt.Format "2006-01-02 15:04:05"}}</small>
            </div>
            {{if ne .Order.Status "pending"}}
            <div class="timeline-item">
                <strong style="color: #212121;">订单支付</strong>
                <br>
                <small style="color: #7a7a7a;">{{.Order.UpdatedAt.Format "2006-01-02 15:04:05"}}</small>
            </div>
            {{end}}
            {{if or (eq .Order.Status "shipped") (eq .Order.Status "completed")}}
            <div class="timeline-item">
                <strong style="color: #212121;">订单发货</strong>
                <br>
                <small style="color: #7a7a7a;">{{.Order.UpdatedAt.Format "2006-01-02 15:04:05"}}</small>
            </div>
            {{end}}
            {{if eq .Order.Status "completed"}}
            <div class="timeline-item">
                <strong style="color: #212121;">订单完成</strong>
                <br>
                <small style="color: #7a7a7a;">{{.Order.UpdatedAt.Format "2006-01-02 15:04:05"}}</small>
            </div>
            {{end}}
            {{if eq .Order.Status "cancelled"}}
            <div class="timeline-item">
                <strong style="color: #f14668;">订单取消</strong>
                <br>
                <small style="color: #7a7a7a;">{{.Order.UpdatedAt.Format "2006-01-02 15:04:05"}}</small>
            </div>
            {{end}}
        </div>
    </div>
</div>