<!-- 侧边栏导航 -->
<aside
    class="fixed top-0 left-0 h-screen w-64 bg-base-100 text-base-content shadow-xl z-20 overflow-y-auto transition-transform duration-300 border-r border-base-300"
    :class="{ '-translate-x-full': !sidebarOpen, 'translate-x-0': sidebarOpen, 'lg:translate-x-0': true }">

    <!-- Logo/品牌 -->
    <div class="h-16 flex items-center justify-center text-xl font-semibold border-b border-base-300 gap-3">
        <i class="fas fa-cube text-primary text-2xl"></i>
        <span class="lg:inline" x-show="sidebarOpen" x-transition.duration.300ms>Admin Panel</span>
    </div>

    <!-- 导航菜单 -->
    <nav class="py-4">
        <ul class="menu bg-base-100 w-full">
            <!-- 仪表盘 -->
            <li>
                <a href="/dashboard" :class="{ 'menu-active': activeMenu === '/dashboard' }" hx-get="/dashboard"
                    hx-target="#main-container" hx-swap="innerHTML" hx-push-url="true"
                    @click="activeMenu = '/dashboard'">
                    <i class="fas fa-home w-4"></i>
                    <span x-show="sidebarOpen" x-transition.duration.300ms>仪表盘</span>
                </a>
            </li>

            <!-- 用户管理（带二级菜单） -->
            <li>
                <details :open="activeMenu.startsWith('/users')">
                    <summary>
                        <i class="fas fa-users w-4"></i>
                        <span x-show="sidebarOpen" x-transition.duration.300ms>用户管理</span>
                    </summary>

                    <ul class="menu bg-base-200 rounded-box">
                        <li>
                            <a href="/users" :class="{ 'menu-active': activeMenu === '/users' }" hx-get="/users"
                                hx-target="#main-container" hx-swap="innerHTML" hx-push-url="true"
                                @click="activeMenu = '/users'">
                                <i class="fas fa-list w-3"></i>
                                <span x-show="sidebarOpen">用户列表</span>
                            </a>
                        </li>
                        <li>
                            <a href="/users/roles" :class="{ 'menu-active': activeMenu === '/users/roles' }"
                                hx-get="/users/roles" hx-target="#main-container" hx-swap="innerHTML" hx-push-url="true"
                                @click="activeMenu = '/users/roles'">
                                <i class="fas fa-user-tag w-3"></i>
                                <span x-show="sidebarOpen">角色管理</span>
                            </a>
                        </li>
                        <li>
                            <a href="/users/permissions" :class="{ 'menu-active': activeMenu === '/users/permissions' }"
                                hx-get="/users/permissions" hx-target="#main-container" hx-swap="innerHTML"
                                hx-push-url="true" @click="activeMenu = '/users/permissions'">
                                <i class="fas fa-shield-alt w-3"></i>
                                <span x-show="sidebarOpen">权限管理</span>
                            </a>
                        </li>
                    </ul>
                </details>
            </li>

            <!-- 商品管理 -->
            <li>
                <a href="/products" :class="{ 'menu-active': activeMenu === '/products' }" hx-get="/products"
                    hx-target="#main-container" hx-swap="innerHTML" hx-push-url="true"
                    @click="activeMenu = '/products'">
                    <i class="fas fa-box w-4"></i>
                    <span x-show="sidebarOpen" x-transition.duration.300ms>商品管理</span>
                </a>
            </li>

            <!-- 订单管理 -->
            <li>
                <a href="/orders" :class="{ 'menu-active': activeMenu === '/orders' }" hx-get="/orders"
                    hx-target="#main-container" hx-swap="innerHTML" hx-push-url="true" @click="activeMenu = '/orders'">
                    <i class="fas fa-shopping-cart w-4"></i>
                    <span x-show="sidebarOpen" x-transition.duration.300ms>订单管理</span>
                </a>
            </li>

            <!-- 系统设置 -->
            <li>
                <a href="/settings" :class="{ 'menu-active': activeMenu === '/settings' }" hx-get="/settings"
                    hx-target="#main-container" hx-swap="innerHTML" hx-push-url="true"
                    @click="activeMenu = '/settings'">
                    <i class="fas fa-cog w-4"></i>
                    <span x-show="sidebarOpen" x-transition.duration.300ms>系统设置</span>
                </a>
            </li>
        </ul>
    </nav>
</aside>

<style>
    /* 简化的侧边栏菜单样式 */
    .menu-text {
        @apply transition-opacity duration-300;
    }
</style>